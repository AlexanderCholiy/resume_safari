{% extends "base.html" %}

{% block content %}
  <h2>Смена пароля</h2>

  {% if form.errors %}
    <div class="form-errors">
      <p>Пожалуйста, исправьте ошибки в форме:</p>
      <ul>
        {% for field in form %}
          {% for error in field.errors %}
            <li>{{ error }}</li>
          {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
          <li>{{ error }}</li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}

  <form method="post" action="{% url 'password_change' %}">
    {% csrf_token %}

    <div class="form-group">
      <label for="{{ form.old_password.id_for_label }}">Старый пароль:</label>
      {{ form.old_password }}
    </div>

    <div class="form-group">
      <label for="{{ form.new_password1.id_for_label }}">Новый пароль:</label>
      {{ form.new_password1 }}
    </div>

    <div class="form-group">
      <label for="{{ form.new_password2.id_for_label }}">Повторите новый пароль:</label>
      {{ form.new_password2 }}
    </div>

    <button type="submit">Сменить пароль</button>
  </form>
{% endblock %}
